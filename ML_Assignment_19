{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Logistic Regression \n",
    "\n",
    "The dataset is affairs dataset and comes with Statsmodels. It was derived from a survey of women in 1974 by Redbook magazine, in which married women were asked about their participation in extramarital affairs. More information about the study is available in a 1978 paper from the Journal of Political Economy.\n",
    "\n",
    "## Problem Statement\n",
    "We treat this as a classification problem by creating a new binary variable affair (did the woman have at least one affair?) and try to predict the classification for each woman."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "C:\\Users\\meenakshi313290\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\sklearn\\cross_validation.py:41: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.\n",
      "  \"This module will be removed in 0.20.\", DeprecationWarning)\n"
     ]
    }
   ],
   "source": [
    "## importing Modules required for data analysis\n",
    "import numpy as np\n",
    "import pandas as pd\n",
    "import statsmodels.api as sm\n",
    "import matplotlib.pyplot as plt\n",
    "from patsy import dmatrices\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.cross_validation import train_test_split\n",
    "from sklearn import metrics\n",
    "from sklearn.cross_validation import cross_val_score"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "## load dataset\n",
    "data = sm.datasets.fair.load_pandas().data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>rate_marriage</th>\n",
       "      <th>age</th>\n",
       "      <th>yrs_married</th>\n",
       "      <th>children</th>\n",
       "      <th>religious</th>\n",
       "      <th>educ</th>\n",
       "      <th>occupation</th>\n",
       "      <th>occupation_husb</th>\n",
       "      <th>affairs</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>3.0</td>\n",
       "      <td>32.0</td>\n",
       "      <td>9.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>17.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>0.111111</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>3.0</td>\n",
       "      <td>27.0</td>\n",
       "      <td>13.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>4.0</td>\n",
       "      <td>3.230769</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>4.0</td>\n",
       "      <td>22.0</td>\n",
       "      <td>2.5</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>16.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>1.400000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>4.0</td>\n",
       "      <td>37.0</td>\n",
       "      <td>16.5</td>\n",
       "      <td>4.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>16.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>0.727273</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5.0</td>\n",
       "      <td>27.0</td>\n",
       "      <td>9.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>4.0</td>\n",
       "      <td>4.666666</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   rate_marriage   age  yrs_married  children  religious  educ  occupation  \\\n",
       "0            3.0  32.0          9.0       3.0        3.0  17.0         2.0   \n",
       "1            3.0  27.0         13.0       3.0        1.0  14.0         3.0   \n",
       "2            4.0  22.0          2.5       0.0        1.0  16.0         3.0   \n",
       "3            4.0  37.0         16.5       4.0        3.0  16.0         5.0   \n",
       "4            5.0  27.0          9.0       1.0        1.0  14.0         3.0   \n",
       "\n",
       "   occupation_husb   affairs  \n",
       "0              5.0  0.111111  \n",
       "1              4.0  3.230769  \n",
       "2              5.0  1.400000  \n",
       "3              5.0  0.727273  \n",
       "4              4.0  4.666666  "
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "## understanding the data attributes\n",
    "data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>rate_marriage</th>\n",
       "      <th>age</th>\n",
       "      <th>yrs_married</th>\n",
       "      <th>children</th>\n",
       "      <th>religious</th>\n",
       "      <th>educ</th>\n",
       "      <th>occupation</th>\n",
       "      <th>occupation_husb</th>\n",
       "      <th>affairs</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>count</th>\n",
       "      <td>6366.000000</td>\n",
       "      <td>6366.000000</td>\n",
       "      <td>6366.000000</td>\n",
       "      <td>6366.000000</td>\n",
       "      <td>6366.000000</td>\n",
       "      <td>6366.000000</td>\n",
       "      <td>6366.000000</td>\n",
       "      <td>6366.000000</td>\n",
       "      <td>6366.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>mean</th>\n",
       "      <td>4.109645</td>\n",
       "      <td>29.082862</td>\n",
       "      <td>9.009425</td>\n",
       "      <td>1.396874</td>\n",
       "      <td>2.426170</td>\n",
       "      <td>14.209865</td>\n",
       "      <td>3.424128</td>\n",
       "      <td>3.850141</td>\n",
       "      <td>0.705374</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>std</th>\n",
       "      <td>0.961430</td>\n",
       "      <td>6.847882</td>\n",
       "      <td>7.280120</td>\n",
       "      <td>1.433471</td>\n",
       "      <td>0.878369</td>\n",
       "      <td>2.178003</td>\n",
       "      <td>0.942399</td>\n",
       "      <td>1.346435</td>\n",
       "      <td>2.203374</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>min</th>\n",
       "      <td>1.000000</td>\n",
       "      <td>17.500000</td>\n",
       "      <td>0.500000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>9.000000</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25%</th>\n",
       "      <td>4.000000</td>\n",
       "      <td>22.000000</td>\n",
       "      <td>2.500000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>2.000000</td>\n",
       "      <td>12.000000</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>50%</th>\n",
       "      <td>4.000000</td>\n",
       "      <td>27.000000</td>\n",
       "      <td>6.000000</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>2.000000</td>\n",
       "      <td>14.000000</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75%</th>\n",
       "      <td>5.000000</td>\n",
       "      <td>32.000000</td>\n",
       "      <td>16.500000</td>\n",
       "      <td>2.000000</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>16.000000</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>5.000000</td>\n",
       "      <td>0.484848</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>max</th>\n",
       "      <td>5.000000</td>\n",
       "      <td>42.000000</td>\n",
       "      <td>23.000000</td>\n",
       "      <td>5.500000</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>20.000000</td>\n",
       "      <td>6.000000</td>\n",
       "      <td>6.000000</td>\n",
       "      <td>57.599991</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "       rate_marriage          age  yrs_married     children    religious  \\\n",
       "count    6366.000000  6366.000000  6366.000000  6366.000000  6366.000000   \n",
       "mean        4.109645    29.082862     9.009425     1.396874     2.426170   \n",
       "std         0.961430     6.847882     7.280120     1.433471     0.878369   \n",
       "min         1.000000    17.500000     0.500000     0.000000     1.000000   \n",
       "25%         4.000000    22.000000     2.500000     0.000000     2.000000   \n",
       "50%         4.000000    27.000000     6.000000     1.000000     2.000000   \n",
       "75%         5.000000    32.000000    16.500000     2.000000     3.000000   \n",
       "max         5.000000    42.000000    23.000000     5.500000     4.000000   \n",
       "\n",
       "              educ   occupation  occupation_husb      affairs  \n",
       "count  6366.000000  6366.000000      6366.000000  6366.000000  \n",
       "mean     14.209865     3.424128         3.850141     0.705374  \n",
       "std       2.178003     0.942399         1.346435     2.203374  \n",
       "min       9.000000     1.000000         1.000000     0.000000  \n",
       "25%      12.000000     3.000000         3.000000     0.000000  \n",
       "50%      14.000000     3.000000         4.000000     0.000000  \n",
       "75%      16.000000     4.000000         5.000000     0.484848  \n",
       "max      20.000000     6.000000         6.000000    57.599991  "
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data.describe()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "## adding \"affair\" column to the dataframe where 1 represent - having affair and 0 represent not in affair\n",
    "data['affair']=(data.affairs >0).astype(int)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>rate_marriage</th>\n",
       "      <th>age</th>\n",
       "      <th>yrs_married</th>\n",
       "      <th>children</th>\n",
       "      <th>religious</th>\n",
       "      <th>educ</th>\n",
       "      <th>occupation</th>\n",
       "      <th>occupation_husb</th>\n",
       "      <th>affairs</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>affair</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>4.329701</td>\n",
       "      <td>28.390679</td>\n",
       "      <td>7.989335</td>\n",
       "      <td>1.238813</td>\n",
       "      <td>2.504521</td>\n",
       "      <td>14.322977</td>\n",
       "      <td>3.405286</td>\n",
       "      <td>3.833758</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>3.647345</td>\n",
       "      <td>30.537019</td>\n",
       "      <td>11.152460</td>\n",
       "      <td>1.728933</td>\n",
       "      <td>2.261568</td>\n",
       "      <td>13.972236</td>\n",
       "      <td>3.463712</td>\n",
       "      <td>3.884559</td>\n",
       "      <td>2.187243</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        rate_marriage        age  yrs_married  children  religious       educ  \\\n",
       "affair                                                                          \n",
       "0            4.329701  28.390679     7.989335  1.238813   2.504521  14.322977   \n",
       "1            3.647345  30.537019    11.152460  1.728933   2.261568  13.972236   \n",
       "\n",
       "        occupation  occupation_husb   affairs  \n",
       "affair                                         \n",
       "0         3.405286         3.833758  0.000000  \n",
       "1         3.463712         3.884559  2.187243  "
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data.groupby('affair').mean()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "## Women having affair are high in number and also it can be observed that they rate low on marriage importance"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>age</th>\n",
       "      <th>yrs_married</th>\n",
       "      <th>children</th>\n",
       "      <th>religious</th>\n",
       "      <th>educ</th>\n",
       "      <th>occupation</th>\n",
       "      <th>occupation_husb</th>\n",
       "      <th>affairs</th>\n",
       "      <th>affair</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>rate_marriage</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>1.0</th>\n",
       "      <td>33.823232</td>\n",
       "      <td>13.914141</td>\n",
       "      <td>2.308081</td>\n",
       "      <td>2.343434</td>\n",
       "      <td>13.848485</td>\n",
       "      <td>3.232323</td>\n",
       "      <td>3.838384</td>\n",
       "      <td>1.201671</td>\n",
       "      <td>0.747475</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2.0</th>\n",
       "      <td>30.471264</td>\n",
       "      <td>10.727011</td>\n",
       "      <td>1.735632</td>\n",
       "      <td>2.330460</td>\n",
       "      <td>13.864943</td>\n",
       "      <td>3.327586</td>\n",
       "      <td>3.764368</td>\n",
       "      <td>1.615745</td>\n",
       "      <td>0.635057</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3.0</th>\n",
       "      <td>30.008056</td>\n",
       "      <td>10.239174</td>\n",
       "      <td>1.638469</td>\n",
       "      <td>2.308157</td>\n",
       "      <td>14.001007</td>\n",
       "      <td>3.402820</td>\n",
       "      <td>3.798590</td>\n",
       "      <td>1.371281</td>\n",
       "      <td>0.550856</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4.0</th>\n",
       "      <td>28.856601</td>\n",
       "      <td>8.816905</td>\n",
       "      <td>1.369536</td>\n",
       "      <td>2.400981</td>\n",
       "      <td>14.144514</td>\n",
       "      <td>3.420161</td>\n",
       "      <td>3.835861</td>\n",
       "      <td>0.674837</td>\n",
       "      <td>0.322926</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5.0</th>\n",
       "      <td>28.574702</td>\n",
       "      <td>8.311662</td>\n",
       "      <td>1.252794</td>\n",
       "      <td>2.506334</td>\n",
       "      <td>14.399776</td>\n",
       "      <td>3.454918</td>\n",
       "      <td>3.892697</td>\n",
       "      <td>0.348174</td>\n",
       "      <td>0.181446</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                     age  yrs_married  children  religious       educ  \\\n",
       "rate_marriage                                                           \n",
       "1.0            33.823232    13.914141  2.308081   2.343434  13.848485   \n",
       "2.0            30.471264    10.727011  1.735632   2.330460  13.864943   \n",
       "3.0            30.008056    10.239174  1.638469   2.308157  14.001007   \n",
       "4.0            28.856601     8.816905  1.369536   2.400981  14.144514   \n",
       "5.0            28.574702     8.311662  1.252794   2.506334  14.399776   \n",
       "\n",
       "               occupation  occupation_husb   affairs    affair  \n",
       "rate_marriage                                                   \n",
       "1.0              3.232323         3.838384  1.201671  0.747475  \n",
       "2.0              3.327586         3.764368  1.615745  0.635057  \n",
       "3.0              3.402820         3.798590  1.371281  0.550856  \n",
       "4.0              3.420161         3.835861  0.674837  0.322926  \n",
       "5.0              3.454918         3.892697  0.348174  0.181446  "
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data.groupby('rate_marriage').mean()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "## Age, Children, married years lower the marriage rating"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Data Visualization"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0,0.5,'Frequency')"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "%matplotlib inline\n",
    "\n",
    "## histogram of age\n",
    "data.age.hist()\n",
    "plt.title(\"Histogram of Age\")\n",
    "plt.xlabel(\"Age of Women\")\n",
    "plt.ylabel(\"Frequency\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0,0.5,'Frequency')"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "## histogram of Marriage Rating\n",
    "data.rate_marriage.hist()\n",
    "plt.title(\"Histogram of Marriage Rating\")\n",
    "plt.xlabel(\"Marriage Rating\")\n",
    "plt.ylabel(\"Frequency\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>affair</th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>rate_marriage</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>1.0</th>\n",
       "      <td>25</td>\n",
       "      <td>74</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2.0</th>\n",
       "      <td>127</td>\n",
       "      <td>221</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3.0</th>\n",
       "      <td>446</td>\n",
       "      <td>547</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4.0</th>\n",
       "      <td>1518</td>\n",
       "      <td>724</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5.0</th>\n",
       "      <td>2197</td>\n",
       "      <td>487</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "affair            0    1\n",
       "rate_marriage           \n",
       "1.0              25   74\n",
       "2.0             127  221\n",
       "3.0             446  547\n",
       "4.0            1518  724\n",
       "5.0            2197  487"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "## Pivot of Marriage rating and affair\n",
    "pd.crosstab(data.rate_marriage, data.affair)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0,0.5,'Frequency')"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "## bar plot of Marriage rating and affair\n",
    "pd.crosstab(data.rate_marriage, data.affair.astype(bool)).plot(kind = 'bar')\n",
    "plt.title(\"Marriage Rating Vs. Affiar\")\n",
    "plt.xlabel(\"Marriage Rating\")\n",
    "plt.ylabel(\"Frequency\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "y, X = dmatrices('affair ~ rate_marriage + age + yrs_married + children + religious + educ + C(occupation) + C(occupation_husb)',\n",
    "                  data, return_type=\"dataframe\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [],
   "source": [
    "X = X.rename(columns = {'C(occupation)[T.2.0]':'occ_2',\n",
    "                        'C(occupation)[T.3.0]':'occ_3',\n",
    "                        'C(occupation)[T.4.0]':'occ_4',\n",
    "                        'C(occupation)[T.5.0]':'occ_5',\n",
    "                        'C(occupation)[T.6.0]':'occ_6',\n",
    "                        'C(occupation_husb)[T.2.0]':'occ_husb_2',\n",
    "                        'C(occupation_husb)[T.3.0]':'occ_husb_3',\n",
    "                        'C(occupation_husb)[T.4.0]':'occ_husb_4',\n",
    "                        'C(occupation_husb)[T.5.0]':'occ_husb_5',\n",
    "                        'C(occupation_husb)[T.6.0]':'occ_husb_6'})\n",
    "y = np.ravel(y)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "model = LogisticRegression()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [],
   "source": [
    "model = model.fit(X,y)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.7258875274897895"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "model.score(X,y)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "##  Model accuracy is at 72%, can be accepted"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.3224945020420987"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "## % of women having affair as per data\n",
    "y.mean()"
   ]
  },
  {
   "cell_type": "raw",
   "metadata": {},
   "source": [
    "Only 32% of the women had affairs, which means that you could obtain 68% accuracy by always predicting no. So we're doing better than the null error rate, but not by much."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "   Intercept     occ_2    occ_3     occ_4     occ_5     occ_6  occ_husb_2  \\\n",
      "0   1.489862  0.188042  0.49892  0.250641  0.838977  0.834008     0.19058   \n",
      "\n",
      "   occ_husb_3  occ_husb_4  occ_husb_5  occ_husb_6  rate_marriage       age  \\\n",
      "0     0.29778    0.161353    0.187718    0.193949      -0.703117 -0.058418   \n",
      "\n",
      "   yrs_married  children  religious      educ  \n",
      "0     0.105677   0.01692  -0.371134  0.004016  \n"
     ]
    }
   ],
   "source": [
    "## let us look at co-efficients\n",
    "output = pd.DataFrame(model.coef_,columns = X.columns)\n",
    "print(output)\n"
   ]
  },
  {
   "cell_type": "raw",
   "metadata": {},
   "source": [
    "Increases in marriage rating and religiousness correspond to a decrease in the likelihood of having an affair. For both the wife's occupation and the husband's occupation, the lowest likelihood of having an affair corresponds to the baseline occupation (student), since all of the dummy coefficients are positive."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "LogisticRegression(C=1.0, class_weight=None, dual=False, fit_intercept=True,\n",
       "          intercept_scaling=1, max_iter=100, multi_class='ovr', n_jobs=1,\n",
       "          penalty='l2', random_state=None, solver='liblinear', tol=0.0001,\n",
       "          verbose=0, warm_start=False)"
      ]
     },
     "execution_count": 53,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=0)\n",
    "model2 = LogisticRegression()\n",
    "model2.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[1. 0. 0. ... 0. 0. 0.]\n"
     ]
    }
   ],
   "source": [
    "# predict class labels for the test set\n",
    "predicted = model2.predict(X_test)\n",
    "print(predicted)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[[0.3514263  0.6485737 ]\n",
      " [0.90952493 0.09047507]\n",
      " [0.72576699 0.27423301]\n",
      " ...\n",
      " [0.55737109 0.44262891]\n",
      " [0.81213807 0.18786193]\n",
      " [0.74729545 0.25270455]]\n"
     ]
    }
   ],
   "source": [
    "# generate class probabilities\n",
    "probs = model2.predict_proba(X_test)\n",
    "print (probs)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {},
   "outputs": [],
   "source": [
    "## Classifier is predicting as 1 whereever the probability in the second column is > 0.5"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.7298429319371728"
      ]
     },
     "execution_count": 63,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "## Model Evaluation Metrics\n",
    "metrics.accuracy_score(y_test, predicted)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.7459619860896347"
      ]
     },
     "execution_count": 64,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "metrics.roc_auc_score(y_test, probs[:, 1])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "##  We can observe that the accuracy is same as the trained data set ~72%, "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
